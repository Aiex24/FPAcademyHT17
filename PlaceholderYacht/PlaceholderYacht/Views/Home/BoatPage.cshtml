@model BoatPageVM
@section styles{
    <link href="~/Styles/AddBoatStyleSheet.css" rel="stylesheet" />
}

<div class="AddBoatDiv">
    <form asp-controller="Home" asp-action="@ViewBag.ActionName" id="boatForm">
        <table id="AddBoatTable">
            <tr>
                <td><label asp-for="Modelname" />Model: </td>
                <td><input asp-for="Modelname" /></td>
                <td><span asp-validation-for="Modelname"></span></td>
            </tr>
            <tr>
                <td><label asp-for="Manufacturer" />Manufacturer: </td>
                <td><input asp-for="Manufacturer" /></td>
                <td><span asp-validation-for="Manufacturer"></span></td>
            </tr>
            <tr>
                <td><label asp-for="Boatname" />Boat Name: </td>
                <td><input asp-for="Boatname" /></td>
                <td><span asp-validation-for="Boatname"></span></td>

                <td><input asp-for="BoatID" hidden /></td>
            </tr>
        </table>
        <table id="VppInputTable">
            <tr>
                <td><label asp-for="VppList[0].TWS" />TWS: </td>
                <td><label asp-for="VppList[0].WindDegree" />Wind Direction: </td>
                <td><label asp-for="VppList[0].Knot" />Knots: </td>
            </tr>
            @if (Model != null)
            {
                @for (int i = 0; i < Model.VppList.Length; i++)
                {
                    <tr class="RowToSelect" data-row="@i">
                        <td><input asp-for="VppList[i].TWS" class="colUserInput" data-row="@i" /><span asp-validation-for="VppList[i].TWS"></span></td>
                        <td><input asp-for="VppList[i].WindDegree" class="colUserInput" data-row="@i" /><span asp-validation-for="VppList[i].WindDegree"></span></td>
                        <td><input asp-for="VppList[i].Knot" class="colUserInput" data-row="@i" /><span asp-validation-for="VppList[i].Knot"></span></td>
                        <td><input type="button" value="Remove row" class="RemoveRowButton" data-row="@i" /></td>
                    </tr>
                    <input asp-for="VppList[i].ID" hidden />
                }
            }
            else
            {
                <tr class="RowToSelect" data-row="0">
                    <td><input asp-for="VppList[0].TWS" class="colUserInput" data-row="0" /><span asp-validation-for="VppList[0].TWS"></span></td>
                    <td><input asp-for="VppList[0].WindDegree" class="colUserInput" data-row="0" /><span asp-validation-for="VppList[0].WindDegree"></span></td>
                    <td><input asp-for="VppList[0].Knot" class="colUserInput" data-row="0" /><span asp-validation-for="VppList[0].Knot"></span></td>
                    <td><input type="button" value="Remove row" class="RemoveRowButton" data-row="0" /></td>
                </tr>
            }
            <tr id="ButtonRow">
                <td><input type="button" value="Add row" id="AddRowButton" /></td>
                <td><input type="submit" value="@ViewBag.SaveBtnName" /></td>
            </tr>
        </table>
    </form>
</div>
<div class="image-background">
    <img src="~/Images/Nauticalchart.jpg" style="width:100%" />
</div>
@section scripts{
    <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.14.0/jquery.validate.min.js"></script>
    <script src="http://ajax.aspnetcdn.com/ajax/mvc/5.2.3/jquery.validate.unobtrusive.min.js"></script>
    @*TODO: Lägg till unobtrusive-validering för de genererade elementen.*@
    <script src="~/Scripts/AddBoatJavaScript.js"></script>
}
